!function(t){var e={};function r(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);class o{constructor(t,e,r,o){this.id=t,this.name=e,this.type=r,this.cost=o}}class n{constructor(t,e,r,o=0){this.id=t,this.firstName=e,this.lastName=r,this.spentMoney=o}}class u{constructor(t,e,r,o=1,n=new Date){this.productName=t,this.type=e,this.sum=r,this.amount=o,this.cretedAT=n}}let c=new n(1,"Mary","Smit");client02=new n(2,"Bob","Adams");let s=new o(1,"Яблоко","Фрукты",20);product02=new o(2,"Яблоко","Фрукты",20),product03=new o(3,"Яблоко","Фрукты",20),product04=new o(4,"Яблоко","Фрукты",20),product05=new o(5,"Картофель","Овощи",25),product06=new o(6,"Картофель","Овощи",25),product07=new o(7,"Морковь","Овощи",30);const d=new class{constructor(){this.clients=[],this.products=[],this.purchases=[]}addClient(t){this.clients.push(t)}delClient(t){this.clients.forEach((e,r,o)=>{(e.id=t.id)&&o.splice(r,1)})}addProduct(t){this.products.push(t)}delProduct(t){this.products.forEach((e,r,o)=>{(e.id=t.id)&&o.splice(r,1)})}addPurchase(t){this.purchases.push(t)}sellProduct(t,e,r){let o=this.products.filter(t=>t.name==e),n=o[0];o.splice(0,o.length-r);let c=n.cost*r;o.forEach(t=>{this.delProduct(t)}),this.addPurchase(new u(n.name,n.type,c,r)),t.spentMoney+=c}purchasedProductCount(){return this.purchases.map(t=>t.amount).reduce((t,e)=>t+e)}earnedMoney(){return this.clients.map(t=>t.spentMoney).reduce((t,e)=>t+e)}productsCount(){return this.products.length}productsCountByType(){let t={};return this.products.map(t=>t.type).forEach((function(e){t[e]=(t[e]||0)+1})),t}purchasedSumByType(){let t={};return this.purchases.forEach((function(e){t[e.type]=(t[e.type]||0)+e.sum})),t}};d.addClient(c),d.addClient(client02),d.addProduct(s),d.addProduct(product02),d.addProduct(product03),d.addProduct(product04),d.addProduct(product05),d.addProduct(product06),d.addProduct(product07),d.sellProduct(c,"Яблоко",2),console.log(d.purchasedProductCount()),console.log(d.earnedMoney()),console.log(d.productsCount()),console.log(d.productsCountByType()),console.log(d.purchasedSumByType()),console.log(d)}]);